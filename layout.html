
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>EasyMapr layout</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    
    <script type='text/javascript' src='http://static.firebase.com/v0/firebase.js'></script>
    <script type='text/javascript' src='http://code.jquery.com/jquery-1.7.1.min.js'></script>
    <script type='text/javascript' src='firebase.js'></script>
    <script src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0" type="text/javascript"></script>
    <script src="./js/jquery.ui.map.full.min.js" type="text/javascript"></script>
    <script src="http://jquery-bing-maps.googlecode.com/svn/trunk/js/min/jquery.ui.bmap.min.js" type='text/javascript'></script>
    <script src="http://jquery-bing-maps.googlecode.com/svn/trunk/js/min/jquery.ui.bmap.services.min.js" type='text/javascript'></script>

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">EasyMapr</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">

      <div class="row-fluid">
        <div class="span2">
          <h2>Add POI</h2>
           

          <form class="well">
            <input type="text" class="input-small search-query" id="pinLookup">
            <button type="submit" class="btn" id="addPin">Search</button>
            <button type="submit" class="btn" id="deletePin">Delete</button>
          </form>
        </div>
        <div class="span7">
          <h2>Map</h2>
          <div id="map">
          		<form id="from_to_form" class="well" onsubmit="return draw_trip();">
					  <label>From</label>
					  <input type="text" class="span3" placeholder="Type something" id="from">
					  <label>TO</label>
					  <input type="text" class="span3" placeholder="Type something" id="to">
					   <input type="submit" class="btn" />
				  </form>
				   <div id="map_canvas" style="width:500px;height:500px;position:relative;"></div>
			
  			</div>          
       </div>
        <div class="span3">
          <h2>Connected users</h2>
          <div id="users">

          </div>

          <h2>Chat</h2>
          <div id="messagesDiv">

          </div>

          <form class="well form-search">
            <input type="text" class="input-medium search-query" id="messageInput">
            <button type="submit" class="btn" id="messageSend">Submit</button>
          </form>
        </div>
      </div>

      <hr>

      <footer>
        <p>&copy; EasyMapr 2012</p>
      </footer>

    </div> <!-- /container -->



  </body>
</html>

<script type="text/javascript">
$(function() {
var yourStartLatLng = '59.3426606750, 18.0736160278';
        $('#map_canvas').gmap({'credentials': 'AlKHLj54K3fKIEgx5aPkf759mo1FC-jxpqhgA199T-8eIr-YbHysBD0W7zaWBCyb', 'center': yourStartLatLng});                                                                                                                                                                                                               

$('#map_canvas').gmap().bind('init', function() {
        $('#map_canvas').gmap('search', { 'address': 'New York' }, function(results, status) {
                if ( status === 'OK' ) {
                		//console.log(results);
                        //var location = new Microsoft.Maps.Location(item.point.coordinates[0],item.point.coordinates[1]);
                        //$('#map_canvas').gmap('get', 'map').setView({'center':location});
                }
        });
});

});

function draw_trip(){
	$('#map_canvas').gmap('displayDirections', { 'origin': $("#from").val(), 'destination': $("#to").val(), 'routeMode': 'driving' }, { 'panel': document.getElementById('panel') } );
	return false;
}
</script>

